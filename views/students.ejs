<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.css">
    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script>
  </head>
  <body>
    <h1><%= title %></h1>
    <p>Welcome to <%= title %></p>
    <p>List of Students%></p>
    <table id="students_table" class="display" style="width:100%">
      <thead>
        <tr>
          <td>ID</td>
          <td>First Name</td>
          <td>Last Name</td>
          <td>Hobby</td>
          <td>Actions</td>
        </tr>
      </thead>
      <tbody>
        <% if(studentsArray != undefined)  { %>
          <% for(let i = 0; i < studentsArray.data.length; i++) { %>
            <tr>
              <td><%= studentsArray.data[i].id %></td>
              <td><%= studentsArray.data[i].student_first %></td>
              <td><%= studentsArray.data[i].student_last %></td>
              <td><%= studentsArray.data[i].hobby %></td>
              <td><span><a href='/students/update/<%= studentsArray.data[i].id %>'>Update</a></span> <span><a href='/students/delete/<%= studentsArray.data[i].id %>'>Delete</a></span></td>
            </tr>
          <% } %>
        <% } %> 
      </tbody>
    </table>
    
    <script src="/javascripts/datatables.js"></script>
  </body>
</html>